<div class="container">

  <div class="row">
    <div id="primary" class="span16">
      <p class='floatright'>
        <%= link_to 'Return to results', params[:return_to] unless params[:return_to].blank? %>
      </p>
      <h3>Website Detail</h3>

      <article id='sdf_view' class="post">
        <table id='sdf_table' class='zebra-striped'>
          <thead>
            <tr>
              <th class='sdf_snapshot'>Title</th>
              <th><strong><%= @document.get('title') %></strong></th>
            </tr>
          </thead>
          <tbody>
            <%# Only show alternate title(s) if the field isn't empty %>
            <% if ! @document.get('alternate_title').blank? %>
            <tr>
              <td><%= ((@document.get('alternate_title',{:sep => nil})).length == 1) ? 'Alternate Title' : 'Alternate Title'.pluralize %></td>
              <td><%= @document.get('alternate_title', {:sep => ','}) %></td>
            </tr>
            <% end %>
            <tr>
              <td>Creator:</td>
              <td><%= @document.get('creator_name') %></td>
            </tr>
            <tr>
              <td>Organization Type:</td>
              <td><%= @document.get('organization_type') %></td>
            </tr>
            <tr>
              <td>Organization Based In:</td>
              <td><%= @document.get('organization_based_in') %></td>
            </tr>
            <tr>
              <td>Geographic Focus:</td>
              <td><%= @document.get('geographic_focus',{:sep => nil}).join(', ') %></td>
            </tr>
            <tr>
              <td><%= ((@document.get('subject',{:sep => nil})).length == 1) ? 'Subject' : 'Subject'.pluralize %></td>
              <td><%= @document.get('subject',{:sep => nil}).join(', ') %></td>
            </tr>
            <tr>
              <td>Summary:</td>
              <td><%= @document.get('summary') %></td>
            </tr>
            <tr>
              <td><%= ((@document.get('language',{:sep => nil})).length == 1) ? 'Language' : 'Language'.pluralize %></td>
              <td><%= @document.get('language',{:sep => nil}).join(', ') %></td>
            </tr>
            <tr>
              <% #TODO: Find out which url to show in the case of multiple original urls: https://issues.cul.columbia.edu/browse/HRWA-68 %>
              <% #For now, I'm assuming that the original url is just the first one. %>
              <% original_url = @document.get("original_urls").is_a?(Array) ? @document.get("original_urls")[0] : @document.get("original_urls") %>
              <td><%= ((@document.get('original_urls',{:sep => nil})).length == 1) ? 'URL at Time of Capture' : 'URLs at Times of Capture' %></td>
              <td><%= @document.get('original_urls',{:sep => nil}).join(', ') %></td>
            </tr>
            <tr>
              <% preview_icon = image_tag asset_path('search.png'), :alt => 'quicklook', :class => 'preview_icon' %>
              <% archived_url = @document.get('archived_urls').is_a?(Array) ? @document.get('archived_urls')[0] : @document.get('archived_urls') %>
              <!--td>Crawl Calendar:</td> <td><a class="blue" href="ccf.php?site=http://www.cesr.org/">Crawls for http://www.cesr.org/</a></td-->
              <td>See Website Captures:</td>
              <td><%= link_to 'Website Captures', archived_url, :title => 'CCF permalink for: ' + original_url.html_safe %> <!--[<%=link_to preview_icon, archived_url, :title => 'CCF Preview for: ' + original_url, :class => 'ccf_quicklook' %>]--> </td>
            </tr>
          </tbody>
        </table>
      </article>
    </div>
  </div>

  <hr>

</div> <!-- /container -->

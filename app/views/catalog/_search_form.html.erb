<div class="container">

  <!-- Main hero unit for a primary marketing message or call to action -->
  <div id="hero-search" class="hero-unit hero-border ">
    <h6>Human Rights Web Archive : search</h6>

    <%= form_tag search_path, :method => :get, :id => 'searchform' do %>

      <% q_text = params[ :q ] %>
      <%
	if params[ :search_mode ] == "advanced"
	   then q_text = "[Click + to refine search]"
	end
      %>

      <div class="input-append">
	<%= text_field_tag :q, q_text, :disabled => (params[:search_mode] == 'advanced'), :class => "span12", :placeholder =>'Enter search terms...', :id => 'q', :name => 'q', :size => '16' %>

	<%#= search_as_hidden_fields(:omit_keys => [:q, :search_field, :qt, :page]).html_safe %>

	<label class="add-on"><input type="radio" name="search_type" id="fsfsearch" value="find_site"<%= (params[:search_type] != 'archive') ? ' checked="checked"' : ''; %>> FSF</label>
	<label class="add-on"><input type="radio" name="search_type" id="asfsearch" value="archive"<%= (params[:search_type] == 'archive') ? ' checked="checked"' : ''; %>> ASF</label>
	<label id="advo" class="add-on hidden"><a href="#" id="advo_link" title="Advanced Options Toggle" rel="twipsy" class="advtoggle moreless lime mono">+</a></label>

	<label class="add-on hidden">
	  <a href="#" class="submitss">Submit</a>
	</label>
      </div>

      <div id="advanced_options_inside_of_form"></div>
    <% end %>

    <div id="advanced_options_outside_of_form">
      <div id="advanced_options" class="hidden">
	<div id="gen-query" class="clearfix"></div>
	<h6>Find Pages/Sites that have&hellip;</h6>
	<div class="input-prepend">
	        <label class="add-on">all these words:</label>
	        <input class="span9" placeholder="Enter search terms..." id="q_and" name="q_and"<%= params[:q_and] ? " value='#{params[:q_and]}'" : '' %> size="16" type="text"> <a title="You can do this in simple search by adding a + (plus sign) to the beginning of the word you require." rel="twipsy" href="#">tip</a>
	</div>
	<div class="input-prepend">
	        <label class="add-on">this exact wording or phrase:</label>
	        <input class="span9" placeholder="Enter search terms..." id="q_phrase" name="q_phrase"<%= params[:q_phrase] ? " value='#{params[:q_phrase]}'" : '' %> size="16" type="text"> <a title="You can do this in simple search by &quot;surrounding your phrase with quotes&quot;." rel="twipsy" href="#">tip</a>
	</div>
	<div class="input-prepend">
	        <label class="add-on">one or more of these words:</label>
	        <input class="span9" placeholder="Enter search terms..." id="q_or" name="q_or"<%= params[:q_or] ? " value='#{params[:q_or]}'" : '' %> size="16" type="text">
	</div>
	<h6>But don\'t show results that have&hellip;</h6>
	<div class="input-prepend">
	        <label class="add-on">any of these unwanted words:</label>
	        <input class="span9" placeholder="Enter search terms..." id="q_exclude" name="q_exclude"<%= params[:q_exclude] ? " value='#{params[:q_exclude]}'" : '' %> size="16" type="text"> <a title="You can do this in simple search by adding a - (minus sign) to the beginning of the word you don't want." rel="twipsy" href="#">tip</a>
	</div>
<% if (params[:search_type] != 'archive') %>
    <h6>Additional Options</h6>
<p>will reformat into grid/dropdowns asap</p>
	<div class="input-prepend">
        <label class="add-on">organization type</label>
        <input class="span9" type="text" name="f[organization_type__facet][]" />
    </div>
	<div class="input-prepend">
        <label class="add-on">subject</label>
        <input class="span9" type="text" name="f[subject__facet][]" />
    </div>
	<div class="input-prepend">
        <label class="add-on">geographic focus</label>
        <input class="span9" type="text" name="f[geographic_focus__facet][]" />
    </div>
	<div class="input-prepend">
        <label class="add-on">organization based in</label>
        <input class="span9" type="text" name="f[organization_based_in__facet][]" />
    </div>
	<div class="input-prepend">
        <label class="add-on">language</label>
        <input class="span9" type="text" name="f[language__facet][]" />
        <!--Non-displayed facets below here-->
    </div>
	<div class="input-prepend">
        <label class="add-on">title</label>
        <input class="span9" type="text" name="f[title][]" />
    </div>
	<div class="input-prepend">
        <label class="add-on">creator name</label>
        <input class="span9" type="text" name="f[creator_name__facet][]" />
    </div>
	<div class="input-prepend">
        <label class="add-on">original url</label>
        <input class="span9" type="text" name="f[original_urls][]" />
    </div>
<% end %>

<% if (params[:search_type] == 'archive') %>
<p>additional asf stuff will go here</p>
<% end %>
	<p>

	<input type="hidden" name="sort" value="score desc" />

	<input type="hidden" name="search_mode" value="advanced" />

	<input id="advsubmit" type="submit" value="submit" class="btn small success nopad" />
	<input id="advreset" type="reset" value="reset all" class="btn small nopad" />
	</p>
      </div> <!-- //advanced_search -->
    </div>

  </div>


</div>
